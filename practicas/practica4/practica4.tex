% [Tamaño principal de la fuente del documento, tamaño del papel, con título (crea salto de página)]{Tipo de documento}
\documentclass[12pt, a4paper, titlepage]{article}
\usepackage[utf8]{inputenc}
% Traduce expresiones al español
\usepackage[spanish]{babel}
\usepackage{setspace}

\usepackage{graphicx}
\usepackage{geometry}
\geometry{margin=2.5cm}
\graphicspath{ {./capturas/} }

% Permite utilizar labeling para listar de forma personalizada
\usepackage{scrextend}
% Permite centrar verticalmente m{}
\usepackage{array}
% Permite colorear texto
\usepackage{xcolor}

\title{\LARGE \textbf{Práctica 4 - Desarrollo de módulos de Odoo: Modelo y Vista} \\[2ex] \Large Sistemas de Gestión Empresarial}
\author{\\[20ex]Cristian Fernández}
\date{\today}

\begin{document}
\maketitle

\doublespacing
\noindent \\
\tableofcontents % Índice

\newpage

\section{Introducción}
\noindent \\El objetivo de esta práctica es aplicar los conocimientos adquiridos en ejercicios anteriores sobre 
modelos, relaciones y vistas en el desarrollo de aplicaciones. Para ello, nos ocuparemos de la implementación 
de cuatro actividades que abarcan diferentes contextos, como la gestión de tareas, bibliotecas de cómics, 
pacientes y médicos, y ciclos formativos. \\

\noindent Habrá que tener en cuenta la revisión de los ejemplos proporcionados en el siguiente repositorio. \textit{https://github.com/sergarb1/OdooModulosEjemplos} \\

\noindent Una vez que verifiquemos y probemos el funcionamiento de cada ejemplo en nuestro contenedor de Odoo debemos:\\
\begin{itemize}
    \item Revisar los manifests.
    \item Revisar los modelos de datos.
    \item Revisar las vistas.
\end{itemize}

\noindent \\Entender y probar estos ejemplos nos facilitará la comprensión sobre la arquitectura de Odoo y su sistema de módular
y, por tanto, la realización la práctica.

\noindent \\Se reutilizará el repositorio creado en las prácticas anteriores, con objeto de tener todo el trabajo bien organizado y disponible
para una posible visualización en cualquier momento. \\
\noindent \\Cada actividad tendrá una explicación breve del proceso de creación y se demostrará su funcionamiento mediante capturas.
Si fuese necesario también se comentarán los problemas encontrados y las soluciones empleadas.
\newpage

\section{Actividad 01 - Lista de tareas}
\noindent \\En esta primera actividad modificaremos el módulo de la práctica anterior \textbf{`lista\_tareas'} para que:\\
\begin{itemize}
    \item Tenga una nueva vista para ver las tareas en formato \textbf{Kanban}.
    \item Modificar las tareas para que tengan una fecha asignada (implementado en la práctica anterior) y 
    crear una nueva vista para visualizarlas en un formato \textbf{Calendario} según esa fecha.
\end{itemize}
\noindent \\Las primera tanda de capturas servirán para mostrar el código creado/modificado e intentarán ser lo suficientemente
autoexplicativas para una correcta comprensión del mismo.

\noindent \\Echémosle un vistazo a la vista principal del módulo.
\newpage

\begin{figure}[hbt!]
    \centering
    \includegraphics[width=0.9\textwidth]{ScreenShot_1.png}
    \caption{Vista listado principal y la nueva adición, la vista Kanban}
\end{figure}
\newpage

\begin{figure}[hbt!]
    \centering
    \includegraphics[width=0.9\textwidth]{ScreenShot_2.png}
    \caption{Segunda adiciósn (vista Calendar) y accionadores listado principal y Kanban}
\end{figure}
\newpage

\noindent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=0.9\textwidth]{ScreenShot_3.png}
    \caption{Accionador Calendar y elementos de menú}
\end{figure}

\noindent \\\\Y este es todo el código generado para esta actividad. Ambas vistas fueron añadidas en el archivo xml principal \textit{views.xml}
por pura simplificación de código.

\noindent \\A continuación unas capturas del módulo \textit{lista\_tareas} en funcionamiento.
\newpage

\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_4.png}
    \caption{Vista principal}
\end{figure}
\noindent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_5.png}
    \caption{Vista Kanban}
\end{figure}
\newpage
\noindent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_6.png}
    \caption{Vista Calendar parte 1}
\end{figure}
\newpage
\noindent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_7.png}
    \caption{Vista Calendar parte 2 (clic en tarea)}
\end{figure}
\newpage

\section{Actividad 02 - Biblioteca de cómics}
\noindent \\En esta segunda actividad ampliaremos el módulo de prueba \textbf{`EJ03-ComicsSimple'} con objeto de:
\begin{itemize}
    \item Incluir la posibilidad de gestionar socios, almacenando su nombre, apellido e identificador.
    \item Introducir al opción de que existan ejemplares de cómics para préstamo.
    \begin{itemize}
        \item El modelo actual de cómic servirá como referencia de la información del cómic.
        \item Se creará un nuevo modelo para gestionar los ejemplares prestables de cada cómic.
    \end{itemize}
    \item Estos ejemplares de préstamo deben registrar:
    \begin{itemize}
        \item A quién están prestados (socio).
        \item La fecha de inicio y fecha de fin del préstamo.
        \item No es necesario mantener un histórico de préstamos, sólo quién tiene el cómic actualmente, cuándo se prestó
        y la fecha prevista de devolución.
    \end{itemize}
    \item Restricciones:
    \begin{itemize}
        \item La fecha de préstamo no puede ser posterior al día actual.
        \item La fecha prevista de devolución no puede ser anterior al día actual.
    \end{itemize}
\end{itemize}
\noindent \\A continuación se mostrarán las capturas del código realizado y las capturas con el módulo en funcionamiento.
\newpage

\noindent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_8.png}
    \caption{Única modificación del modelo principal}
\end{figure}
\newpage

\noindent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_9.png}
    \caption{Nuevo modelo \textit{socio.py}}
\end{figure}
\newpage

\noindent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_10.png}
    \caption{Nuevo modelo \textit{ejemplar\_prestamo.py}}
\end{figure}
\newpage

\noindent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=0.9\textwidth]{ScreenShot_11.png}
    \caption{Se debe actualizar el \textit{\_\_init\_\_.py} con los nuevos modelos}
\end{figure}
\noindent \\\\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_12.png}
    \caption{Se deben actualizar las reglas de acceso para los modelos nuevos, sino no se podrán visualizar ni utilizar}
\end{figure}
\newpage

\noindent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_13.png}
    \caption{Código añadido a la vista principal parte 1}
\end{figure}
\newpage

\noindent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_14.png}
    \caption{Código añadido a la vista principal parte 2}
\end{figure}
\noindent \\\\Y este es todo el código generado para esta actividad. Ambas vistas fueron añadidas en el archivo xml principal \textit{biblioteca\_comic.xml}
por pura simplificación de código.

\noindent \\A continuación unas capturas del módulo \textit{EJ03-ComicsSimple} en funcionamiento.
\newpage

\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_15.png}
    \caption{Vista cómics con ejemplos creados}
\end{figure}
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_16.png}
    \caption{Vista socios con ejemplos creados}
\end{figure}
\newpage

\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_17.png}
    \caption{Vista prestamos vacía, creamos uno nuevo}
\end{figure}
\noindent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_18.png}
    \caption{Seleccionamos uno de los ejemplares disponibles}
\end{figure}
\newpage

\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_19.png}
    \caption{Seleccionamos un socio}
\end{figure}
\noindent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_20.png}
    \caption{Establecemos fechas erróneas para comprobar la validación}
\end{figure}
\newpage

\noindent \\\\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_21.png}
    \caption{El día actual es el 15 por lo que funciona correctamente}
\end{figure}
\newpage

\noindent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_22.png}
    \caption{Corregimos las fechas y validamos}
\end{figure}
\noindent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_23.png}
    \caption{El préstamo se ha creado correctamente}
\end{figure}
\newpage

\section{Actividad 03 - Hospital}
\noindent \\En esta tercera actividad crearemos el módulo \textbf{`hospital'} de cero para gestionar los pacientes y médicos de un centro de salud:
\begin{itemize}
    \item \textbf{Modelo Paciente}:
    \begin{itemize}
        \item Nombre y apellidos del paciente.
        \item Sintomatología.
    \end{itemize}
    \item \textbf{Modelo Médico}:
    \begin{itemize}
        \item Nombre y apellidos del médico.
        \item Número de colegiado.
    \end{itemize}
    \item \textbf{Modelo Consulta}:
    \begin{itemize}
        \item Registro de cada vez que un médico atiende a un paciente, incluyendo el diagnóstico.
        \item Relaciones:
        \begin{itemize}
            \item Un paciente puede haber sido atendido por varios médicos.
            \item Un médico puede haber atendido a varios pacientes.
        \end{itemize}
    \end{itemize}
    \item Implementar los modelos y las vistas que se consideren oportunos.
\end{itemize}
\noindent \\A continuación se mostrarán las capturas del código realizado y las capturas con el módulo en funcionamiento.
\newpage

\noindent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_24.png}
    \caption{Modelo Paciente}
\end{figure}
\newpage

\noindent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_25.png}
    \caption{Modelo Medico}
\end{figure}
\newpage

\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_26.png}
    \caption{Modelo Consulta}
\end{figure}
\begin{figure}[hbt!]
    \centering
    \includegraphics{ScreenShot_27.png}
    \caption{\textit{\_\_init\_\_.py}}
\end{figure}
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_28.png}
    \caption{Reglas de acceso}
\end{figure}
\newpage

\noindent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_29.png}
    \caption{\textit{\_\_manifest\_\_.py}}
\end{figure}
\newpage

\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_30.png}
    \caption{\textit{view.xml} parte 1}
\end{figure}
\newpage

\noindent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_31.png}
    \caption{\textit{view.xml} parte 2}
\end{figure}

\noindent \\\\A continuación capturas del módulo en funcionamiento.
\newpage

\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_32.png}
    \caption{Vista Pacientes con ejemplos creados}
\end{figure}
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_33.png}
    \caption{Vista Médicos con ejemplos creados}
\end{figure}
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_34.png}
    \caption{Vista Consultas vacía, creamos una nueva}
\end{figure}
\newpage

\noindent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_35.png}
    \caption{Rellenamos los campos y validamos}
\end{figure}
\noindent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_36.png}
    \caption{Resultado de crear una consulta}
\end{figure}
\newpage

\section{Actividad 04 - Instituto}
\noindent \\En esta cuarta y última actividad desarrollaremos un módulo que represente los estudios de ciclos formativos en un instituto:
\begin{itemize}
    \item \textbf{Modelo Ciclo Formativo}:
    \begin{itemize}
        \item Representa un ciclo formativo en el instituto.
        \item Un ciclo puede tener uno o más módulos asociados.
    \end{itemize}
    \item \textbf{Modelo Módulo}, que relacionará con:
    \begin{itemize}
        \item El ciclo formativo al que pertenece.
        \item Los alumnos matriculados.
        \item El profesor que lo imparte.
    \end{itemize}
    \item \textbf{Modelo Alumno}:
    \begin{itemize}
        \item Relacionado con los módulos en los que está matriculado.
    \end{itemize}
    \item \textbf{Modelo Profesor}:
    \begin{itemize}
        \item Relacionado con los módulos que imparte.
    \end{itemize}
    \item Se deberán implementar las relaciones necesarias y las vistas adecuadas para los cuatro modelos.
    \item Por último, se creará el rol de usuario \textit{Director} (todos los permisos) y el rol \textit{Profesor} (permiso de sólo lectura).
\end{itemize}
\noindent \\A continuación se mostrarán las capturas del código realizado y las capturas con el módulo en funcionamiento.
\newpage

\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_37.png}
    \caption{Módulo Alumno}
\end{figure}
\indent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_38.png}
    \caption{Módulo Profesor}
\end{figure}
\newpage

\indent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_39.png}
    \caption{Módulo Ciclo}
\end{figure}
\indent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_40.png}
    \caption{Módulo Módulo}
\end{figure}
\newpage

\indent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics{ScreenShot_41.png}
    \caption{\textit{\_\_init\_\_.py}}
\end{figure}
\indent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_42.png}
    \caption{Módulo Módulo}
\end{figure}
\newpage

\indent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_43.png}
    \caption{\textit{\_\_manifest\_\_.py}}
\end{figure}
\newpage

\begin{figure}[hbt!]
    \centering
    \includegraphics{ScreenShot_44.png}
    \caption{\textit{view.xml} parte 1}
\end{figure}
\newpage

\indent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics{ScreenShot_45.png}
    \caption{\textit{view.xml} parte 2}
\end{figure}
\newpage

\indent \\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_46.png}
    \caption{\textit{view.xml} parte 3}
\end{figure}
\noindent \\\\A continuación capturas del módulo en funcionamiento.
\newpage

\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_47.png}
\end{figure}
\indent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_48.png}
\end{figure}
\newpage

\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_49.png}
\end{figure}
\indent \\\\
\begin{figure}[hbt!]
    \centering
    \includegraphics[width=1\textwidth]{ScreenShot_50.png}
\end{figure}
\newpage

\end{document}